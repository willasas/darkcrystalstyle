// 定义主题颜色变量
$theme-colors: (default: (background-color: #fff,
        text-color: #444,
        link-color: #34f),
    primary: (background-color: #000,
        text-color: #fff,
        link-color: #93f),
    negative: (background-color: #f36,
        text-color: #fefefe,
        link-color: #d4e));

// 辅助函数：安全获取颜色方案属性
@function get-theme-color($theme, $property, $default: null) {
    @if map-has-key($theme-colors, $theme) {
        @if map-has-key(map-get($theme-colors, $theme), $property) {
            @return map-get(map-get($theme-colors, $theme), $property);
        }
    }

    @return $default;
}

// 示例使用优化后的变量和函数
body {
    background-color: get-theme-color(default, background-color, #fff);
    color: get-theme-color(default, text-color, #444);

    a {
        color: get-theme-color(default, link-color, #34f);
    }
}